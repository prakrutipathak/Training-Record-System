
<div *ngIf="loading" class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <img src="assets/loaderImage.gif" alt="loading" />
</div>

<h1 class="custom-heading text-center my-4">Participants</h1>


<div *ngIf="!loading" class="container">
    
    <table class="table table-striped">
        <thead >
            <tr>
                <th class="custom-thead text-light" (click)="toggleSort()" style="cursor: pointer;">Topic <i class="fas fa-sort"></i></th>
                <th class="custom-thead text-light" >Participant Name </th>
                <th class="custom-thead text-light">Email</th>
                <th class="custom-thead text-light">Mode Preference</th>
               
                <th class="custom-thead text-light">Manager Name</th>
                <th class="custom-thead text-light">Job Role</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="!loading && (!participants || participants.length === 0)">
                <td colspan="7" class="text-center">No record found!</td>
            </tr>
            
            <tr *ngFor="let p of participants" >
                <td>{{p.topic.topicName}}</td>
                <td >{{p.participate.firstName}} {{p.participate.lastName}}</td>
                <td >{{p.participate.email}}</td>
                <td>{{p.modePreference}}</td>
                <td>{{p.participate.user.firstName}}  {{p.participate.user.lastName}}</td>
                <td >{{p.participate.job.jobName}}</td>
               
                
            </tr>
        </tbody>
    </table>

    <div class="row mb-3 align-items-center">
        <div class="col-sm-1">
            <label for="pageSize" class="form-label"></label>
            <select id="pageSize" class="form-select" [(ngModel)]="pageSize" (change)="changePageSize(pageSize)">
                <option [ngValue]="2">2</option>
                <option [ngValue]="4">4</option>
                <option [ngValue]="6">6</option>
            </select>
        </div>
        <div class="col-sm-10 d-flex justify-content-center">
            <ul class="pagination mb-0">
                <li class="page-item">
                    <button class="page-link" (click)="previousPage()" [disabled]="pageNumber === 1">Previous</button>
                </li>
                <li *ngFor="let i of [].constructor(totalPages); let index = index" class="page-item" [class.active]="pageNumber === index + 1">
                    <button class="page-link" (click)="changePage(index + 1)">{{ index + 1 }}</button>
                </li>
                <li class="page-item">
                    <button class="page-link" (click)="nextPage()" [disabled]="pageNumber === totalPages">Next</button>
                </li>
            </ul>
        </div>
    </div>
    


</div>
