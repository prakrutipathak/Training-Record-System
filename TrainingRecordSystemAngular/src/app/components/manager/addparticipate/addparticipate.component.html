<div class="container">
    <div *ngIf="loading" class="loader-overlay">
        <img src="assets/loaderImage.gif" class="loader-overlay" alt="loading" />
    </div>

    <h2 class="custom-heading text-center my-3">Add Participate</h2>

    <div class="row justify-content-center">
        <div class="col-md-6 mb-3">
            <div class="card shadow">
                <div class="card-body">
                    <form [formGroup]="addParticipateForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
                        
                        <div class=" mb-3">
                           
                              <label class="form-label" for="jobId"> Job Role </label>
                              <select id="jobId" name="jobId" class="form-select"
                                formControlName="jobId" required>
                                <option [value]=0 selected disabled>-----Select Job Role-----</option>
                                <option *ngFor="let question of allJobs" [value]="question.jobId">{{ question.jobName }}</option>
                              </select>
                              <div *ngIf="formControls['jobId'].invalid && formControls['jobId'].touched">
                                <small class="text-danger"
                                    *ngIf="formControls['jobId'].errors?.['required'] || formControls['jobId'].errors?.['invalidJob']">
                                    Job role is required
                                </small>
                                </div>
                            
                        </div>

                       

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="firstName" class="form-label"> First Name</label>
                                <input type="text" class="form-control" id="firstName" formControlName="firstName" required>
                                <div *ngIf="formControls['firstName'].invalid && formControls['firstName'].touched">
                                    <small class="text-danger" *ngIf="formControls['firstName'].errors?.['required']">
                                         First name is required
                                    </small>
                                    <small class="text-danger" *ngIf="formControls['firstName'].errors?.['minlength']">
                                        First name must be at least 2 characters
                                    </small>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="lastName" formControlName="lastName" required>
                                <div *ngIf="formControls['lastName'].invalid && formControls['lastName'].touched">
                                    <small class="text-danger" *ngIf="formControls['lastName'].errors?.['required']">
                                        Last name is required
                                    </small>
                                    <small class="text-danger" *ngIf="formControls['lastName'].errors?.['minlength']">
                                        Last name must be at least 2 characters
                                    </small>
                                </div>
                            </div>
                            
                        </div>
                        
                        <div class="mb-3">
                            <label for="email" class="form-label"> Email</label>
                            <input type="text" class="form-control" id="email" formControlName="email" required>
                            <div *ngIf="formControls['email'].invalid && formControls['email'].touched">
                                <small class="text-danger" *ngIf="formControls['email'].errors?.['required']">
                                    Email is required
                                </small>
                                <small class="text-danger" *ngIf="addParticipateForm.controls['email']?.errors?.['email']">Invalid email format.</small>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <button type="button" class="btn btn-outline-danger me-2" [routerLink]="['/participantsByManager']" routerLinkActive="router-link-active"><i class="fas fa-arrow-left"></i></button>
                            <button type="submit" [disabled]="!addParticipateForm.valid" class="btn btn-primary btn-block"><i class="fas fa-plus"></i> Add Participate</button>
                        
                        </div>
                    
                    </form>
                </div>
            </div>
        </div>
    </div>

    
</div>
